<!DOCTYPE html>
<html><head><title>Electrics Eagles API Documentation get_ready_to_takeoff</title>





    
    <link rel="stylesheet" href="styles.css"></head><body>
<div class="bottom">
        <img style="width: 188px; height: 88px;" src="images/logo.png" alt="Logo" o="" developers="">
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;


&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <big><big><big><big><big>Manual API </big></big></big></big></big><br><br><br><a href="./index.html">Return to Main </a><a href="./index.html"><br>
</a> 
    </div>
<div class="content">
        <br>Manual API&nbsp; 
        is a couple functions these read a data from  Serial port and sets data to esc`s. 
The code is open sorce and can be edited by yourself.<br><br>
Source code of API  
<pre><font color="#00979c">String</font> <font color="#000000">getValue</font><font color="#000000">(</font><font color="#00979c">String</font> <font color="#000000">data</font><font color="#434f54">,</font> <font color="#00979c">char</font> <font color="#000000">separator</font><font color="#434f54">,</font> <font color="#00979c">int</font> <font color="#000000">index</font><font color="#000000">)</font><br><br><font color="#000000">{</font><br> &nbsp;<font color="#00979c">int</font> <font color="#000000">found</font> <font color="#434f54">=</font> <font color="#000000">0</font><font color="#000000">;</font><br> &nbsp;<font color="#00979c">int</font> <font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">]</font> <font color="#434f54">=</font> <font color="#000000">{</font> <font color="#000000">0</font><font color="#434f54">,</font> <font color="#434f54">-</font><font color="#000000">1</font> <font color="#000000">}</font><font color="#000000">;</font><br><br> &nbsp;<font color="#00979c">int</font> <font color="#000000">maxIndex</font> <font color="#434f54">=</font> <font color="#000000">data</font><font color="#434f54">.</font><font color="#d35400">length</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#434f54">-</font> <font color="#000000">1</font><font color="#000000">;</font><br><br><br> &nbsp;<font color="#5e6d03">for</font> <font color="#000000">(</font><font color="#00979c">int</font> <font color="#000000">i</font> <font color="#434f54">=</font> <font color="#000000">0</font><font color="#000000">;</font> <font color="#000000">i</font> <font color="#434f54">&lt;=</font> <font color="#000000">maxIndex</font> <font color="#434f54">&amp;&amp;</font> <font color="#000000">found</font> <font color="#434f54">&lt;=</font> <font color="#000000">index</font><font color="#000000">;</font> <font color="#000000">i</font><font color="#434f54">++</font><font color="#000000">)</font> <font color="#000000">{</font><br><br> &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">data</font><font color="#434f54">.</font><font color="#d35400">charAt</font><font color="#000000">(</font><font color="#000000">i</font><font color="#000000">)</font> <font color="#434f54">==</font> <font color="#000000">separator</font> <font color="#434f54">||</font> <font color="#000000">i</font> <font color="#434f54">==</font> <font color="#000000">maxIndex</font><font color="#000000">)</font> <font color="#000000">{</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">found</font><font color="#434f54">++</font><font color="#000000">;</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">0</font><font color="#000000">]</font> <font color="#434f54">=</font> <font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">1</font><font color="#000000">]</font> <font color="#434f54">+</font> <font color="#000000">1</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">1</font><font color="#000000">]</font> <font color="#434f54">=</font> <font color="#000000">(</font><font color="#000000">i</font> <font color="#434f54">==</font> <font color="#000000">maxIndex</font><font color="#000000">)</font> <font color="#434f54">?</font> <font color="#000000">i</font> <font color="#434f54">+</font> <font color="#000000">1</font> <font color="#434f54">:</font> <font color="#000000">i</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;<font color="#000000">}</font><br> &nbsp;<font color="#000000">}</font><br> &nbsp;<font color="#5e6d03">return</font> <font color="#000000">found</font> <font color="#434f54">&gt;</font> <font color="#000000">index</font> <font color="#434f54">?</font> <font color="#000000">data</font><font color="#434f54">.</font><font color="#d35400">substring</font><font color="#000000">(</font><font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">0</font><font color="#000000">]</font><font color="#434f54">,</font> <font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">1</font><font color="#000000">]</font><font color="#000000">)</font> <font color="#434f54">:</font> <font color="#005c5f">""</font><font color="#000000">;</font><br><br><font color="#000000">}</font><br><br><font color="#00979c">void</font> <font color="#000000">manual_api</font><font color="#000000">(</font><font color="#00979c">char</font> <font color="#000000">delimeter</font><font color="#000000">)</font><br><font color="#000000">{</font><br> &nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">MANUAL_SUPPORT</font> <font color="#434f54">==</font> <font color="#000000">1</font><font color="#000000">)</font> <font color="#000000">{</font><br><br> &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">available</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#434f54">&gt;</font> <font color="#000000">0</font><font color="#000000">)</font> <font color="#000000">{</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00979c">int</font> <font color="#000000">time_one</font> <font color="#434f54">=</font> <font color="#d35400">millis</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">// read the incoming:</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">input_string</font> <font color="#434f54">=</font> <b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">readString</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">// say what you got:</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00979c">String</font> <font color="#000000">ch1</font> <font color="#434f54">=</font> <font color="#000000">getValue</font><font color="#000000">(</font><font color="#000000">input_string</font><font color="#434f54">,</font> <font color="#000000">delimeter</font><font color="#434f54">,</font> <font color="#000000">0</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00979c">String</font> <font color="#000000">ch2</font> <font color="#434f54">=</font> <font color="#000000">getValue</font><font color="#000000">(</font><font color="#000000">input_string</font><font color="#434f54">,</font> <font color="#000000">delimeter</font><font color="#434f54">,</font> <font color="#000000">1</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00979c">String</font> <font color="#000000">ch3</font> <font color="#434f54">=</font> <font color="#000000">getValue</font><font color="#000000">(</font><font color="#000000">input_string</font><font color="#434f54">,</font> <font color="#000000">delimeter</font><font color="#434f54">,</font> <font color="#000000">2</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00979c">String</font> <font color="#000000">ch4</font> <font color="#434f54">=</font> <font color="#000000">getValue</font><font color="#000000">(</font><font color="#000000">input_string</font><font color="#434f54">,</font> <font color="#000000">delimeter</font><font color="#434f54">,</font> <font color="#000000">3</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">receiver_input_channel_1</font> <font color="#434f54">=</font> <font color="#000000">ch1</font><font color="#434f54">.</font><font color="#d35400">toInt</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">receiver_input_channel_2</font> <font color="#434f54">=</font> <font color="#000000">ch2</font><font color="#434f54">.</font><font color="#d35400">toInt</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">receiver_input_channel_3</font> <font color="#434f54">=</font> <font color="#000000">ch3</font><font color="#434f54">.</font><font color="#d35400">toInt</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">receiver_input_channel_4</font> <font color="#434f54">=</font> <font color="#000000">ch4</font><font color="#434f54">.</font><font color="#d35400">toInt</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;<font color="#000000">}</font><br> &nbsp;<font color="#000000">}</font><br><font color="#000000">}</font><br><br></pre>


<br> Usage Instructions via Serial port 
<pre> &nbsp;&nbsp;&nbsp;<b><ont color="#d35400"></ont></b><ont color="#43454"></ont><ont color="#d35400"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#005c5">_________________________________________MANUAL API ________________________________________________</ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><br><br> &nbsp;&nbsp;&nbsp;<b><ont color="#d35400"></ont></b><ont color="#43454"></ont><ont color="#d35400"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#005c5">Manual API Demo &nbsp; </ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><br> &nbsp;&nbsp;&nbsp;<b><ont color="#d35400"></ont></b><ont color="#43454"></ont><ont color="#d35400"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#005c5">Instruction : Channel 1 Value , Channel 2 Value , Channel 3 Value , Channel 4 Value </ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><br> &nbsp;&nbsp;&nbsp;<b><ont color="#d35400"></ont></b><ont color="#43454"></ont><ont color="#d35400"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#005c5">Channel &amp;nbspValue it is a number between 1000 and 2000</ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><br> &nbsp;&nbsp;&nbsp;<b><ont color="#d35400"></ont></b><ont color="#43454"></ont><ont color="#d35400"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#005c5">Example: 1000 1001 1002 1003 where a 1000 is channel 1 value , where is a &amp;nbsp1001 channel 2 value,where is a &amp;nbsp1002 channel 3 value,where is a &amp;nbsp1003 channel 4 value</ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><br><br> &nbsp;&nbsp;&nbsp;<b><ont color="#d35400"></ont></b><ont color="#43454"></ont><ont color="#d35400"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#005c5"> It is a ull Manual IP </ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><br> &nbsp;&nbsp;&nbsp;<b><ont color="#d35400"></ont></b><ont color="#43454"></ont><ont color="#d35400"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#005c5">_________________________________________MANUAL API ________________________________________________</ont><ont color="#000000"></ont><ont color="#000000"></ont><ont color="#000000"></ont><br><br></pre>
<br> Usage Instructions and also a minimal code for drone with manual api support 
<pre><font color="#5e6d03">#include</font> <font color="#005c5f">"Varibles.h"</font> <font color="#434f54">// Import Varibles file header</font><br><br><br><br><font color="#95a5a6">/*</font><br><font color="#95a5a6"> &nbsp;Main Electrics Eagles Code</font>
<br><font color="#95a5a6"> &nbsp;Describe what it does in layman's terms. &nbsp;Refer to the components</font><br><font color="#95a5a6"> &nbsp;attached to the various pins.</font><br><font color="#95a5a6"> &nbsp;Kernel Version 1.0,1</font><br><br><font color="#95a5a6"> &nbsp;Main API Verison 1.0.0</font><br><font color="#95a5a6"> &nbsp;API and some editions code in kernel are author`s Alex Zaslavskis, Mike Zaslavskis , Danio Zile</font><br><font color="#95a5a6"> &nbsp;Project is based on </font><u><font color="#95a5a6">http://www.brokking.net/ymfc-al_main.html</font></u><br><br><font color="#95a5a6"> &nbsp;The circuit:</font><br><font color="#95a5a6"> &nbsp;Look at schematics at our github page .</font><br><br><br><font color="#95a5a6"> &nbsp;Created 12/09/2019</font><br><font color="#95a5a6"> &nbsp;Alex Zaslavskis, Mike Zaslavskis , Danio Zile</font>
<br><font color="#95a5a6"> &nbsp;</font><u><font color="#95a5a6">https://github.com/alex5250/Electric-Eagles</font></u><br><br><br><font color="#95a5a6">*/</font><br><br><br><br><font color="#434f54">//------------------Settings---------------------------------</font><br><font color="#5e6d03">#include</font> <font color="#005c5f">"Varibles.h"</font><br><font color="#5e6d03">#include</font> <font color="#434f54">&lt;</font><font color="#000000">HCSR04</font><font color="#434f54">.</font><font color="#000000">h</font><font color="#434f54">&gt;</font><br><font color="#5e6d03">#define</font> <font color="#000000">DEBUG</font> <font color="#000000">1</font> <font color="#434f54">// Turn on debug mode</font><br><br><font color="#5e6d03">#define</font> <font color="#000000">MANUAL_API_LOGO</font> &nbsp;<font color="#000000">1</font> <font color="#434f54">// Draw data about drone</font><br><font color="#5e6d03">#define</font> <font color="#000000">MANUAL_SUPPORT</font> <font color="#000000">1</font> <font color="#434f54">// Turn on manual support</font><br><font color="#5e6d03">#define</font> <font color="#000000">ULTROSONICS_SUPPORT</font> <font color="#000000">1</font> <font color="#434f54">// Turn on a UltroSonics Support </font><br><br><font color="#00979c">double</font> <font color="#000000">kp</font> <font color="#434f54">=</font> <font color="#000000">0.8</font><font color="#000000">;</font><br><font color="#00979c">float</font> <font color="#000000">pid_p_gain_roll</font> <font color="#434f54">=</font> <font color="#000000">1.3</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">//Gain setting for the roll P-controller</font><br><br><font color="#00979c">float</font> <font color="#000000">pid_i_gain_roll</font> <font color="#434f54">=</font> <font color="#000000">0.04</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">//Gain setting for the roll I-controller</font><br><font color="#00979c">float</font> <font color="#000000">pid_d_gain_roll</font> <font color="#434f54">=</font> <font color="#000000">18.0</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">//Gain setting for the roll D-controller</font><br><br><font color="#00979c">int</font> <font color="#000000">pid_max_roll</font> <font color="#434f54">=</font> <font color="#000000">400</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">//Maximum output of the PID-controller (+/-)</font><br><br><font color="#00979c">float</font> <font color="#000000">pid_p_gain_pitch</font> <font color="#434f54">=</font> <font color="#000000">pid_p_gain_roll</font><font color="#000000">;</font> &nbsp;<font color="#434f54">//Gain setting for the pitch P-controller.</font><br><br><font color="#00979c">float</font> <font color="#000000">pid_i_gain_pitch</font> <font color="#434f54">=</font> <font color="#000000">pid_i_gain_roll</font><font color="#000000">;</font> &nbsp;<font color="#434f54">//Gain setting for the pitch I-controller.</font><br><font color="#00979c">float</font> <font color="#000000">pid_d_gain_pitch</font> <font color="#434f54">=</font> <font color="#000000">pid_d_gain_roll</font><font color="#000000">;</font> &nbsp;<font color="#434f54">//Gain setting for the pitch D-controller.</font><br><br><font color="#00979c">int</font> <font color="#000000">pid_max_pitch</font> <font color="#434f54">=</font> <font color="#000000">pid_max_roll</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">//Maximum output of the PID-controller (+/-)</font><br><br><font color="#00979c">float</font> <font color="#000000">pid_p_gain_yaw</font> <font color="#434f54">=</font> <font color="#000000">4.0</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">//Gain setting for the pitch P-controller. //4.0</font><br><br><font color="#00979c">float</font> <font color="#000000">pid_i_gain_yaw</font> <font color="#434f54">=</font> <font color="#000000">0.02</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">//Gain setting for the pitch I-controller. //0.02</font><br><font color="#00979c">float</font> <font color="#000000">pid_d_gain_yaw</font> <font color="#434f54">=</font> <font color="#000000">0.0</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">//Gain setting for the pitch D-controller.</font><br><br><font color="#00979c">int</font> <font color="#000000">pid_max_yaw</font> <font color="#434f54">=</font> <font color="#000000">400</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">//Maximum output of the PID-controller (+/-)</font><br><font color="#00979c">String</font> <font color="#000000">input_string</font><font color="#000000">;</font><br><font color="#00979c">boolean</font> <font color="#000000">auto_level</font> <font color="#434f54">=</font> <font color="#00979c">true</font><font color="#000000">;</font> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">//Auto level on (true) or off (false)</font><br><br><font color="#95a5a6">/* Addtional code for manual support</font>
<br><br><font color="#95a5a6">*/</font><br><font color="#00979c">String</font> <font color="#000000">getValue</font><font color="#000000">(</font><font color="#00979c">String</font> <font color="#000000">data</font><font color="#434f54">,</font> <font color="#00979c">char</font> <font color="#000000">separator</font><font color="#434f54">,</font> <font color="#00979c">int</font> <font color="#000000">index</font><font color="#000000">)</font><br><br><font color="#000000">{</font><br> &nbsp;<font color="#00979c">int</font> <font color="#000000">found</font> <font color="#434f54">=</font> <font color="#000000">0</font><font color="#000000">;</font><br> &nbsp;<font color="#00979c">int</font> <font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">]</font> <font color="#434f54">=</font> <font color="#000000">{</font> <font color="#000000">0</font><font color="#434f54">,</font> <font color="#434f54">-</font><font color="#000000">1</font> <font color="#000000">}</font><font color="#000000">;</font><br><br> &nbsp;<font color="#00979c">int</font> <font color="#000000">maxIndex</font> <font color="#434f54">=</font> <font color="#000000">data</font><font color="#434f54">.</font><font color="#d35400">length</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#434f54">-</font> <font color="#000000">1</font><font color="#000000">;</font><br><br><br> &nbsp;<font color="#5e6d03">for</font> <font color="#000000">(</font><font color="#00979c">int</font> <font color="#000000">i</font> <font color="#434f54">=</font> <font color="#000000">0</font><font color="#000000">;</font> <font color="#000000">i</font> <font color="#434f54">&lt;=</font> <font color="#000000">maxIndex</font> <font color="#434f54">&amp;&amp;</font> <font color="#000000">found</font> <font color="#434f54">&lt;=</font> <font color="#000000">index</font><font color="#000000">;</font> <font color="#000000">i</font><font color="#434f54">++</font><font color="#000000">)</font> <font color="#000000">{</font><br><br> &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">data</font><font color="#434f54">.</font><font color="#d35400">charAt</font><font color="#000000">(</font><font color="#000000">i</font><font color="#000000">)</font> <font color="#434f54">==</font> <font color="#000000">separator</font> <font color="#434f54">||</font> <font color="#000000">i</font> <font color="#434f54">==</font> <font color="#000000">maxIndex</font><font color="#000000">)</font> <font color="#000000">{</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">found</font><font color="#434f54">++</font><font color="#000000">;</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">0</font><font color="#000000">]</font> <font color="#434f54">=</font> <font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">1</font><font color="#000000">]</font> <font color="#434f54">+</font> <font color="#000000">1</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">1</font><font color="#000000">]</font> <font color="#434f54">=</font> <font color="#000000">(</font><font color="#000000">i</font> <font color="#434f54">==</font> <font color="#000000">maxIndex</font><font color="#000000">)</font> <font color="#434f54">?</font> <font color="#000000">i</font> <font color="#434f54">+</font> <font color="#000000">1</font> <font color="#434f54">:</font> <font color="#000000">i</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;<font color="#000000">}</font><br> &nbsp;<font color="#000000">}</font><br> &nbsp;<font color="#5e6d03">return</font> <font color="#000000">found</font> <font color="#434f54">&gt;</font> <font color="#000000">index</font> <font color="#434f54">?</font> <font color="#000000">data</font><font color="#434f54">.</font><font color="#d35400">substring</font><font color="#000000">(</font><font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">0</font><font color="#000000">]</font><font color="#434f54">,</font> <font color="#000000">strIndex</font><font color="#000000">[</font><font color="#000000">1</font><font color="#000000">]</font><font color="#000000">)</font> <font color="#434f54">:</font> <font color="#005c5f">""</font><font color="#000000">;</font><br><br><font color="#000000">}</font><br><br><font color="#00979c">void</font> <font color="#000000">manual_api</font><font color="#000000">(</font><font color="#00979c">char</font> <font color="#000000">delimeter</font><font color="#000000">)</font><br><font color="#000000">{</font><br> &nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><font color="#000000">MANUAL_SUPPORT</font> <font color="#434f54">==</font> <font color="#000000">1</font><font color="#000000">)</font> <font color="#000000">{</font><br><br> &nbsp;&nbsp;&nbsp;<font color="#5e6d03">if</font> <font color="#000000">(</font><b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">available</font><font color="#000000">(</font><font color="#000000">)</font> <font color="#434f54">&gt;</font> <font color="#000000">0</font><font color="#000000">)</font> <font color="#000000">{</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00979c">int</font> <font color="#000000">time_one</font> <font color="#434f54">=</font> <font color="#d35400">millis</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">// read the incoming:</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">input_string</font> <font color="#434f54">=</font> <b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">readString</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#434f54">// say what you got:</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00979c">String</font> <font color="#000000">ch1</font> <font color="#434f54">=</font> <font color="#000000">getValue</font><font color="#000000">(</font><font color="#000000">input_string</font><font color="#434f54">,</font> <font color="#000000">delimeter</font><font color="#434f54">,</font> <font color="#000000">0</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00979c">String</font> <font color="#000000">ch2</font> <font color="#434f54">=</font> <font color="#000000">getValue</font><font color="#000000">(</font><font color="#000000">input_string</font><font color="#434f54">,</font> <font color="#000000">delimeter</font><font color="#434f54">,</font> <font color="#000000">1</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00979c">String</font> <font color="#000000">ch3</font> <font color="#434f54">=</font> <font color="#000000">getValue</font><font color="#000000">(</font><font color="#000000">input_string</font><font color="#434f54">,</font> <font color="#000000">delimeter</font><font color="#434f54">,</font> <font color="#000000">2</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#00979c">String</font> <font color="#000000">ch4</font> <font color="#434f54">=</font> <font color="#000000">getValue</font><font color="#000000">(</font><font color="#000000">input_string</font><font color="#434f54">,</font> <font color="#000000">delimeter</font><font color="#434f54">,</font> <font color="#000000">3</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">receiver_input_channel_1</font> <font color="#434f54">=</font> <font color="#000000">ch1</font><font color="#434f54">.</font><font color="#d35400">toInt</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">receiver_input_channel_2</font> <font color="#434f54">=</font> <font color="#000000">ch2</font><font color="#434f54">.</font><font color="#d35400">toInt</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">receiver_input_channel_3</font> <font color="#434f54">=</font> <font color="#000000">ch3</font><font color="#434f54">.</font><font color="#d35400">toInt</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#000000">receiver_input_channel_4</font> <font color="#434f54">=</font> <font color="#000000">ch4</font><font color="#434f54">.</font><font color="#d35400">toInt</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font><br><br> &nbsp;&nbsp;&nbsp;<font color="#000000">}</font><br> &nbsp;<font color="#000000">}</font><br><font color="#000000">}</font><br><br><font color="#00979c">void</font> <font color="#5e6d03">setup</font><font color="#000000">(</font><font color="#00979c">void</font><font color="#000000">)</font> <font color="#000000">{</font><br><br> <b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">begin</font><font color="#000000">(</font><font color="#000000">115200</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">// Set baudrate. </font><br> <b><font color="#d35400">Serial</font></b><font color="#434f54">.</font><font color="#d35400">setTimeout</font><font color="#000000">(</font><font color="#000000">3</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">// Set timeout . It is a very important for perfomace of this code.</font><br><br> <font color="#000000">get_ready_to_takeoff</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">// Perpare copter to takeoff</font><br><br><font color="#000000">}</font><br><br><br><br><br><font color="#00979c">void</font> <font color="#5e6d03">loop</font><font color="#000000">(</font><font color="#00979c">void</font><font color="#000000">)</font> <font color="#000000">{</font><br><br> &nbsp;<font color="#000000">core_loop</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">// Call main loop from Core.ino file</font><br> &nbsp;<font color="#000000">ultrosonics_warring</font><font color="#000000">(</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">// Call warring ultrosonics funcion</font><br> &nbsp;<font color="#000000">manual_api</font><font color="#000000">(</font><font color="#00979c">','</font><font color="#000000">)</font><font color="#000000">;</font> <font color="#434f54">// Call Manual control api funcion</font><br><br><font color="#000000">}</font><br><br></pre>
</div>


 
<div class="ender-lower">
            <br>Electrics Eagles API<br>
Doc created at 12/09/2019<br>
Written by Alex Zaslavskis , Mihials Zaslavskis , Daniel Zile
        </div>
</body></html>